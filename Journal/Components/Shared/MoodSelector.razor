@code {
    [Parameter]
    public MoodType PrimaryMood { get; set; }

    [Parameter]
    public EventCallback<MoodType> PrimaryMoodChanged { get; set; }

    [Parameter]
    public MoodType? SecondaryMood { get; set; }

    [Parameter]
    public EventCallback<MoodType?> SecondaryMoodChanged { get; set; }
}

<div class="mood-selector">
    <label>How are you feeling?</label>

    <div class="mood-options">
        <label>Primary Mood</label>
        <select class="form-control" @bind="PrimaryMood" @bind:after="OnPrimaryMoodChanged">
            @foreach (MoodType mood in Enum.GetValues(typeof(MoodType)))
            {
                <option value="@mood">@mood.GetEmoji() @mood</option>
            }
        </select>
    </div>

    <div class="mood-options mt-2">
        <label>Secondary Mood (Optional)</label>
        <select class="form-control" @bind="SecondaryMood" @bind:after="OnSecondaryMoodChanged">
            <option value="">None</option>
            @foreach (MoodType mood in Enum.GetValues(typeof(MoodType)))
            {
                <option value="@mood">@mood.GetEmoji() @mood</option>
            }
        </select>
    </div>
</div>

@code {
    private async Task OnPrimaryMoodChanged()
    {
        await PrimaryMoodChanged.InvokeAsync(PrimaryMood);
    }

    private async Task OnSecondaryMoodChanged()
    {
        await SecondaryMoodChanged.InvokeAsync(SecondaryMood);
    }
}